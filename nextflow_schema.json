{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://raw.githubusercontent.com/nf-core/seqqc/master/nextflow_schema.json",
  "title": "nf-core/seqqc pipeline parameters",
  "description": "Quality control workflow for short-reads (Illumina) and long-reads (Oxford Nanopore) sequencing data including WGS, Amplicon and Metagenomics",
  "type": "object",
  "definitions": {
    "assembly_qc_options": {
      "title": "Assembly QC options",
      "type": "object",
      "description": "",
      "default": "",
      "properties": {
        "checkm_db": {
          "type": "boolean"
        },
        "combine_quast": {
          "type": "boolean"
        },
        "busco_lineage": {
          "type": "string",
          "default": "auto"
        },
        "busco_lineages_path": {
          "type": "string"
        },
        "busco_config": {
          "type": "boolean"
        },
        "reference": {
          "type": "boolean"
        },
        "reference_gff": {
          "type": "boolean"
        }
      }
    },
    "taxonomy_qc_options": {
      "title": "Taxonomy QC options",
      "type": "object",
      "description": "",
      "default": "",
      "properties": {
        "classifier": {
          "type": "string",
          "default": "kraken2"
        },
        "skip_kraken": {
          "type": "boolean"
        },
        "skip_combinekreports": {
          "type": "boolean"
        },
        "skip_kreport2krona": {
          "type": "boolean"
        },
        "skip_bracken": {
          "type": "boolean"
        },
        "skip_kraken2": {
          "type": "boolean"
        },
        "skip_combinebrackenoutputs": {
          "type": "boolean"
        },
        "skip_dehosting": {
          "type": "boolean"
        },
        "kraken2_db": {
          "type": "string",
          "default": "/mnt/cidgoh-object-storage/database/minikraken2/minikraken2_v2_8GB_201904_UPDATE"
        },
        "classified_reads": {
          "type": "boolean",
          "default": true
        },
        "unclassified_reads": {
          "type": "boolean",
          "default": true
        },
        "centrifuge_db": {
          "type": "string",
          "default": "/mnt/cidgoh-object-storage/database/centrifuge/"
        },
        "save_unaligned": {
          "type": "boolean",
          "default": true
        },
        "save_aligned": {
          "type": "boolean",
          "default": true
        },
        "dehosting_aligner": {
          "type": "string",
          "default": "minimap2"
        },
        "reference_genome": {
          "type": "string",
          "default": "/mnt/cidgoh-object-storage/database/reference_genomes/human/GRCh38.p14/GCF_000001405.40/GCF_000001405.40_GRCh38.p14_genomic.fna"
        },
        "sam_format": {
          "type": "boolean",
          "default": true
        },
        "bam_format": {
          "type": "boolean",
          "default": true
        },
        "bwa_sort_bam": {
          "type": "string",
          "default": "sort"
        },
        "cigar_paf_format": {
          "type": "boolean"
        },
        "cigar_bam": {
          "type": "boolean"
        },
        "interleaved": {
          "type": "boolean"
        }
      }
    },
    "assembly_options": {
      "title": "Assembly options",
      "type": "object",
      "description": "",
      "default": "",
      "properties": {
        "assembler": {
          "type": "string",
          "default": "skesa",
          "enum": ["spades", "skesa", "megahit"]
        }
      }
    },
    "illumina_qc_options": {
      "title": "Illumina QC options",
      "type": "object",
      "description": "",
      "default": "",
      "properties": {
        "genomesize": {
          "type": "integer",
          "default": 5000000
        },
        "adapter_fasta": {
          "type": "string",
          "default": "https://object-arbutus.cloud.computecanada.ca/cidgohshare/database/adaptors/test.fa"
        },
        "skip_subsampling": {
          "type": "boolean"
        },
        "skip_confindr": {
          "type": "boolean"
        },
        "save_merged": {
          "type": "boolean",
          "default": true
        },
        "trim_tool": {
          "type": "string",
          "default": "fastp"
        },
        "save_trimmed_fail": {
          "type": "boolean"
        }
    },
    "allOf": [
        {
            "$ref": "#/definitions/assembly_qc_options"
        },
        {
            "$ref": "#/definitions/taxonomy_qc_options"
        },
        {
            "$ref": "#/definitions/assembly_options"
        },
        {
            "$ref": "#/definitions/illumina_qc_options"
        },
        {
            "$ref": "#/definitions/input_output_options"
        },
        {
            "$ref": "#/definitions/institutional_config_options"
        },
        {
            "$ref": "#/definitions/max_job_request_options"
        },
        {
            "$ref": "#/definitions/generic_options"
        }
    ],
    "properties": {
        "fasta": {
            "type": "string",
            "default": "test.fa"
        },
        "depth_cut_off": {
            "type": "string",
            "default": "50"
        },
        "confindr_db": {
            "type": "string",
            "default": "/project/cidgoh-object-storage/database/confindr/confindr_db"
        },
        "ref_genome_id": {
            "type": "string",
            "default": "test"
        }

    }
}